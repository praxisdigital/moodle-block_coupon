{"version":3,"file":"elements.min.js","sources":["../../src/templates/elements.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\nimport $ from 'jquery';\n\nconst showHideElement = function(e) {\n    e.preventDefault();\n    const elementid = e.currentTarget.dataset.id;\n    const target = document.getElementById(`element-${elementid}`);\n    if (target === null) {\n        return;\n    }\n    let visible = e.currentTarget.checked;\n\n    if (visible) {\n        target.style.display = null;\n    } else {\n        target.style.display = 'none';\n    }\n};\n\nconst showHideAll = function(e) {\n    e.preventDefault();\n    let els = $('[data-action=shel]');\n    let visible = e.currentTarget.checked;\n\n    els.each((idx, el) => {\n        if (visible) {\n            $(el).prop('checked', true);\n        } else {\n            $(el).prop('checked', false);\n        }\n        $(el).trigger('change');\n    });\n};\n\nexport default {\n    init: (selector) => {\n        $(selector).on('change', '[data-action=shel]', showHideElement);\n        $(selector).on('change', '[data-action=shelall]', showHideAll);\n    }\n};\n"],"names":["showHideElement","e","preventDefault","elementid","currentTarget","dataset","id","target","document","getElementById","visible","checked","style","display","showHideAll","els","each","idx","el","prop","trigger","init","selector","on"],"mappings":"gPAiBMA,gBAAkB,SAASC,GAC7BA,EAAEC,uBACIC,UAAYF,EAAEG,cAAcC,QAAQC,GACpCC,OAASC,SAASC,iCAA0BN,eACnC,OAAXI,kBAGAG,QAAUT,EAAEG,cAAcO,QAG1BJ,OAAOK,MAAMC,QADbH,QACuB,KAEA,QAIzBI,YAAc,SAASb,GACzBA,EAAEC,qBACEa,KAAM,mBAAE,sBACRL,QAAUT,EAAEG,cAAcO,QAE9BI,IAAIC,MAAK,CAACC,IAAKC,MACPR,4BACEQ,IAAIC,KAAK,WAAW,uBAEpBD,IAAIC,KAAK,WAAW,uBAExBD,IAAIE,QAAQ,2BAIP,CACXC,KAAOC,+BACDA,UAAUC,GAAG,SAAU,qBAAsBvB,qCAC7CsB,UAAUC,GAAG,SAAU,wBAAyBT"}